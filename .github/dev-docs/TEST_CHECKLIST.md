# Dash BPM 完整測試檢查清單

## 測試前準備
- [ ] 清除所有 LocalStorage 資料（使用 clear-data.html）
- [ ] 重新整理頁面
- [ ] 確認開發伺服器運行中

---

## 1. 部門管理測試

### 1.1 新增部門
- [ ] 進入「部門管理」頁面
- [ ] 點擊「新增部門」
- [ ] 輸入「資訊部」
- [ ] 儲存成功
- [ ] 確認部門列表顯示「資訊部」，人員數為 0

### 1.2 新增多個部門
- [ ] 新增「人力資源部」
- [ ] 新增「財務部」
- [ ] 新增「業務部」
- [ ] 確認部門總數顯示為 4

### 1.3 編輯部門
- [ ] 點擊「資訊部」的編輯按鈕
- [ ] 修改為「資訊技術部」
- [ ] 儲存成功
- [ ] 確認部門列表顯示更新

### 1.4 刪除部門（無人員）
- [ ] 點擊「業務部」的刪除按鈕
- [ ] 確認刪除成功
- [ ] 部門總數更新為 3

---

## 2. 人員管理測試

### 2.1 新增人員
- [ ] 進入「人員管理」頁面
- [ ] 點擊「新增人員」
- [ ] 輸入資料：
  - 姓名：張三
  - 帳號：user001
  - 部門：資訊技術部（從下拉選單選擇）
  - 角色：一般員工
  - 狀態：在職
- [ ] 儲存成功
- [ ] 確認人員列表顯示張三

### 2.2 新增更多人員
- [ ] 新增李四（user002, 資訊技術部, 主管）
- [ ] 新增王五（user003, 人力資源部, 一般員工）
- [ ] 新增趙六（user004, 財務部, 一般員工）
- [ ] 確認人員總數為 4

### 2.3 編輯人員
- [ ] 編輯張三的資料
- [ ] 修改角色為「主管」
- [ ] 儲存成功
- [ ] 確認更新顯示

### 2.4 部門與人員同步測試
- [ ] 回到「部門管理」頁面
- [ ] 確認「資訊技術部」顯示人員數：2
- [ ] 確認「人力資源部」顯示人員數：1
- [ ] 確認「財務部」顯示人員數：1

### 2.5 編輯部門名稱同步測試
- [ ] 編輯「資訊技術部」改為「IT部」
- [ ] 儲存成功
- [ ] 回到「人員管理」頁面
- [ ] 確認張三和李四的部門自動更新為「IT部」

### 2.6 刪除部門保護測試
- [ ] 回到「部門管理」
- [ ] 嘗試刪除「IT部」
- [ ] 應該顯示錯誤訊息：無法刪除，因為還有 2 位人員
- [ ] 確認刪除失敗

---

## 3. 表單建置器測試

### 3.1 建立新表單
- [ ] 進入「表單管理」
- [ ] 點擊「建立表單」
- [ ] 輸入表單名稱：「請假申請單」
- [ ] 輸入表單說明：「員工請假申請」

### 3.2 新增欄位（單列）
- [ ] 點擊「新增列」
- [ ] 拖曳「文字輸入」到列 1
- [ ] 確認欄位佔滿 12 格
- [ ] 選中欄位，設定：
  - 標籤：申請人
  - 必填：是

### 3.3 新增欄位（多欄位）
- [ ] 點擊「新增列」
- [ ] 拖曳「日期」到列 2
- [ ] 再拖曳「日期」到列 2
- [ ] 確認兩個日期欄位各佔 6 格（平均分配）
- [ ] 設定第一個日期：開始日期
- [ ] 設定第二個日期：結束日期

### 3.4 新增更多欄位
- [ ] 新增列 3
- [ ] 拖曳「下拉選單」
- [ ] 設定標籤：請假類型
- [ ] 設定選項：病假、事假、特休
- [ ] 新增列 4
- [ ] 拖曳「多行文字」
- [ ] 設定標籤：請假事由

### 3.5 欄位排序測試
- [ ] 在列 2 中拖曳欄位調整順序
- [ ] 確認欄位順序改變
- [ ] 使用上移/下移調整列順序
- [ ] 確認列順序改變

### 3.6 儲存表單
- [ ] 點擊「儲存表單」
- [ ] 確認儲存成功
- [ ] 回到表單列表
- [ ] 確認「請假申請單」顯示在列表中

---

## 4. 流程設計器測試

### 4.1 建立新流程
- [ ] 進入「流程管理」
- [ ] 點擊「建立流程」
- [ ] 輸入流程名稱：「一般請假流程」
- [ ] 輸入流程說明：「一般員工請假審核流程」

### 4.2 設計流程（單簽）
- [ ] 確認已有「開始」節點
- [ ] 拖曳「單簽」節點到畫布
- [ ] 連接：開始 → 單簽
- [ ] 選中單簽節點
- [ ] 設定名稱：「主管審核」
- [ ] 選擇簽核人員：李四（主管）
- [ ] 拖曳「結束」節點
- [ ] 連接：單簽 → 結束
- [ ] 儲存流程

### 4.3 建立並簽流程
- [ ] 建立新流程：「重要請假流程」
- [ ] 拖曳「並簽」節點
- [ ] 連接：開始 → 並簽 → 結束
- [ ] 設定並簽名稱：「雙主管會簽」
- [ ] 選擇簽核人員：李四、張三
- [ ] 儲存流程

### 4.4 建立串簽流程
- [ ] 建立新流程：「長假申請流程」
- [ ] 拖曳「串簽」節點
- [ ] 連接：開始 → 串簽 → 結束
- [ ] 設定串簽名稱：「逐級審核」
- [ ] 設定簽核順序：張三 → 李四
- [ ] 儲存流程

---

## 5. 申請表單測試

### 5.1 發起申請
- [ ] 進入「發起申請」
- [ ] 選擇表單：「請假申請單」
- [ ] 選擇流程：「一般請假流程」
- [ ] 填寫表單內容：
  - 申請人：測試員工
  - 開始日期：2025/10/10
  - 結束日期：2025/10/11
  - 請假類型：病假
  - 請假事由：身體不適需要休息
- [ ] 提交申請
- [ ] 確認顯示申請編號（格式：YYYYMMDD-001）
- [ ] 記下申請編號

### 5.2 發起第二筆申請
- [ ] 再次發起申請
- [ ] 確認申請編號為 YYYYMMDD-002（流水號遞增）

---

## 6. 簽核系統測試（單簽）

### 6.1 查看待簽核
- [ ] 進入「簽核中心」
- [ ] 切換到「待我簽核」分頁
- [ ] 確認顯示剛才的申請單
- [ ] 確認申請編號正確

### 6.2 查看申請詳情
- [ ] 點擊「查看詳情」
- [ ] 確認顯示：
  - 申請編號
  - 申請人
  - 申請時間
  - 表單名稱
  - 流程名稱
  - 狀態：待審核
  - **目前節點：主管審核**
  - **待簽核人員：李四**
  - **簽核流程圖**（開始 → 主管審核[當前] → 結束）
  - **申請內容**（所有填寫的欄位）
  - **簽核歷史**（顯示「發起申請」記錄）

### 6.3 核准申請
- [ ] 關閉詳情
- [ ] 點擊「核准」按鈕
- [ ] 輸入簽核意見：「同意請假」
- [ ] 確認核准
- [ ] 確認申請從「待我簽核」消失

### 6.4 查看已完成申請
- [ ] 切換到「全部申請」
- [ ] 找到剛才的申請
- [ ] 確認狀態顯示「已通過」（綠色徽章）
- [ ] 查看詳情
- [ ] 確認簽核歷史顯示：
  - 發起申請
  - 核准（含簽核意見）

---

## 7. 簽核系統測試（並簽）

### 7.1 發起並簽申請
- [ ] 發起新申請
- [ ] 選擇流程：「重要請假流程」（雙主管會簽）
- [ ] 填寫並提交

### 7.2 第一人簽核
- [ ] 進入「待我簽核」
- [ ] 查看詳情
- [ ] 確認顯示：
  - 目前節點：雙主管會簽
  - **並簽進度：0/2 已簽核**
  - 待簽核人員：李四、張三
  - 流程圖顯示並簽節點為「進行中」狀態
- [ ] 點擊「核准」
- [ ] 輸入意見：「第一位主管同意」
- [ ] 確認核准

### 7.3 檢查進度更新
- [ ] 切換到「全部申請」
- [ ] 查看該申請詳情
- [ ] 確認顯示：
  - 狀態：待審核
  - **並簽進度：1/2 已簽核**
  - 待簽核人員：張三（只剩一人）
- [ ] 確認簽核歷史顯示第一人核准記錄

### 7.4 第二人簽核完成
- [ ] 以第二人身份核准
- [ ] 輸入意見：「第二位主管同意」
- [ ] 確認核准
- [ ] 確認狀態變更為「已通過」
- [ ] 確認簽核歷史顯示兩筆核准記錄

---

## 8. 簽核系統測試（串簽）

### 8.1 發起串簽申請
- [ ] 發起新申請
- [ ] 選擇流程：「長假申請流程」（逐級審核）
- [ ] 填寫並提交

### 8.2 檢查串簽順序
- [ ] 查看詳情
- [ ] 確認顯示：
  - 目前節點：逐級審核
  - **串簽進度：0/2（當前順序/總數）**
  - 待簽核人員：張三（只顯示當前輪到的人）
  - 流程圖顯示串簽節點

### 8.3 第一人簽核
- [ ] 第一人（張三）核准
- [ ] 輸入意見：「一級主管同意」
- [ ] 確認核准

### 8.4 檢查順序推進
- [ ] 查看詳情
- [ ] 確認顯示：
  - **串簽進度：1/2**
  - 待簽核人員：李四（自動推進到下一位）

### 8.5 第二人簽核完成
- [ ] 第二人（李四）核准
- [ ] 輸入意見：「二級主管同意」
- [ ] 確認狀態變更為「已通過」
- [ ] 確認簽核歷史按順序顯示

---

## 9. 退回與撤回測試

### 9.1 退回申請
- [ ] 發起新申請
- [ ] 簽核人點擊「退回」
- [ ] 輸入退回意見：「資料不完整，請補充」
- [ ] 確認退回
- [ ] 確認狀態變更為「已退回」（橘色徽章）
- [ ] 確認簽核歷史顯示退回記錄及意見

### 9.2 撤回申請
- [ ] 發起新申請（不要簽核）
- [ ] 切換到「我的申請」
- [ ] 找到該申請
- [ ] 確認顯示「撤回申請」按鈕
- [ ] 點擊撤回
- [ ] 確認撤回
- [ ] 確認狀態變更為「已退回」
- [ ] 確認簽核歷史顯示「申請人撤回」

### 9.3 撤回按鈕顯示邏輯
- [ ] 確認已通過的申請沒有撤回按鈕
- [ ] 確認已退回的申請沒有撤回按鈕
- [ ] 確認只有「待審核」的申請顯示撤回按鈕

---

## 10. 儀表板統計測試

### 10.1 檢查統計數字
- [ ] 回到「儀表板」
- [ ] 確認「待簽核」數字正確（計算需要當前使用者簽核的申請）
- [ ] 確認「我的申請」數字正確（所有申請總數）
- [ ] 確認「已完成」數字正確
- [ ] 確認「已退回」數字正確

### 10.2 點擊統計卡片
- [ ] 點擊「待簽核」卡片
- [ ] 確認跳轉到簽核中心並顯示「待我簽核」
- [ ] 點擊其他統計卡片確認跳轉正常

---

## 11. 資料清除工具測試

### 11.1 訪問清除工具
- [ ] 瀏覽器訪問：http://localhost:3000/clear-data.html
- [ ] 確認顯示當前資料統計

### 11.2 部分清除測試
- [ ] 點擊「清除申請單」
- [ ] 確認申請單和簽核記錄被清除
- [ ] 確認表單和流程還在

### 11.3 全部清除測試
- [ ] 點擊「清除所有資料」
- [ ] 二次確認
- [ ] 確認所有資料被清除
- [ ] 返回系統
- [ ] 確認系統恢復初始狀態

---

## 12. UI/UX 測試

### 12.1 表單建置器版面
- [ ] 確認「列 X」工具列在上方
- [ ] 確認 12 格網格在下方
- [ ] 確認欄位可拖曳排序
- [ ] 確認欄位寬度顯示正確

### 12.2 樣式一致性
- [ ] 確認所有按鈕樣式統一
- [ ] 確認 Modal 彈窗樣式統一
- [ ] 確認表格樣式統一
- [ ] 確認 Badge 徽章顏色正確（綠色=成功，橘色=警告，紅色=錯誤）

### 12.3 響應式測試
- [ ] 調整瀏覽器寬度
- [ ] 確認各頁面響應式正常
- [ ] 確認小螢幕時版面不破版

---

## 測試結果記錄

### 發現的問題
1.

### 需要修復的項目
-

### 測試通過項目
-

---

## 測試完成確認

- [ ] 所有測試項目已完成
- [ ] 所有發現的問題已修復
- [ ] 再次執行完整測試確認修復
- [ ] 準備交付使用者測試
